# Meoto-Logï¼ˆãƒ¡ã‚ªãƒˆãƒ­ã‚°ï¼‰

## 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦
ã€Œå¦»ã®æ©Ÿå«Œã‚’è«–ç†çš„ã«æ”»ç•¥ã—ãŸã„ã€å¤«ã®ãŸã‚ã®ã€å¤«å©¦ä»²æ”¹å–„ãƒ»å®¢è¦³è¦–ã‚¢ãƒ—ãƒªã€‚
æ—¥ã€…ã®è¨€å‹•ã«å¯¾ã™ã‚‹AIã‹ã‚‰ã®å®¢è¦³çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆã”æ©Ÿå«Œåº¦æŽ¡ç‚¹ï¼‰ã¨ã€å¦»ã®ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã®å¯è¦–åŒ–ã«ã‚ˆã‚Šã€å¿™ã—ã„è‚²å…ä¸­ãªã©ã§ã‚‚ã™ã‚Œé•ã„ã‚’é˜²ãŽã€å††æº€ãªå®¶åº­ã‚’ç¶­æŒã—ã¾ã™ã€‚

## 2. ä½œæˆã—ãŸèƒŒæ™¯
ç¬¬ä¸€å­èª•ç”Ÿã‚’å‰ã«ã€è‡ªåˆ†è‡ªèº«ã®å¦»ã¸ã®ç†è§£ä¸è¶³ã‚„ã€ç’°å¢ƒå¤‰åŒ–ã«ã‚ˆã‚‹å¤«å©¦ä»²æ‚ªåŒ–ã®ãƒªã‚¹ã‚¯ã‚’ç—›æ„Ÿã—ã¾ã—ãŸã€‚
ã€Œè‰¯ã‹ã‚Œã¨æ€ã£ã¦ã‚„ã£ãŸã“ã¨ã§å¦»ã‚’æ€’ã‚‰ã›ã¦ã—ã¾ã†ã€ã€Œä½•ãŒæ‚ªã„ã®ã‹è‡ªåˆ†ã§ã¯æ°—ã¥ã‘ãªã„ã€ã¨ã„ã†èª²é¡Œã«å¯¾ã—ã€å€‹äººã®æ„è­˜æ”¹é©ã ã‘ã§ãªãã€AIã¨ã„ã†ã€Œæœ‰èƒ½ãªç¬¬ä¸‰è€…ã€ã®è¦–ç‚¹ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã§ã€è«–ç†çš„ã‹ã¤ç¶™ç¶šçš„ã«é–¢ä¿‚ã‚’æ”¹å–„ã—ãŸã„ã¨è€ƒãˆã€é–‹ç™ºã«è‡³ã‚Šã¾ã—ãŸã€‚

## 3. URL
[https://meoto-log.onrender.com]

## 4. ä¸»ãªæ©Ÿèƒ½
### ðŸ¤– AIç›¸è«‡æ©Ÿèƒ½ï¼ˆå¿ƒè‡“éƒ¨ï¼‰
- **LINEé¢¨ãƒãƒ£ãƒƒãƒˆUI**: ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚ã€ãƒœãƒˆãƒ ãƒŠãƒ“ã‹ã‚‰å³åº§ã«AIã«ç›¸è«‡å¯èƒ½ã€‚
- **ã”æ©Ÿå«Œåº¦ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°**: è‡ªåˆ†ã®ç™ºè¨€ãŒå¦»ã®æ©Ÿå«Œã‚’ã©ã†ã•ã›ã‚‹ã‹ã€0ã€œ100ç‚¹ã§æŽ¡ç‚¹ã€‚
- **ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼æ€§æ ¼è¨­å®š**: ã€Œã›ã£ã‹ã¡ã€ã€Œå…±æ„Ÿé‡è¦–ã€ãªã©ã€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®æ€§æ ¼ã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ã§ã€AIã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚Œã¾ã™ã€‚

### ðŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ›ãƒ¼ãƒ ç”»é¢ï¼‰
- **å¦»ã®HPå¯è¦–åŒ–**: ç¾åœ¨ã®ä½“åŠ›ã‚’æ•°å€¤åŒ–ã—ã€ã²ã¨ç›®ã§ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’åˆ¤æ–­ã€‚
- **äºˆå®šç®¡ç†**: ã€Œä»Šæ—¥ã®äºˆå®šã€ã¨ã€Œå¤§äº‹ãªæ—¥ï¼ˆè¨˜å¿µæ—¥ãªã©ï¼‰ã€ã‚’åˆ†ã‘ã¦è¡¨ç¤ºã—ã€ã†ã£ã‹ã‚Šå¿˜ã‚Œã‚’é˜²æ­¢ã€‚
- **ç›´è¿‘ãƒ­ã‚°**: ç›¸è«‡ã—ãŸçµæžœã‚’ãƒ›ãƒ¼ãƒ ç”»é¢ã§å³åº§ã«ç¢ºèªå¯èƒ½ã€‚

### ðŸ“ ãƒ­ã‚°ç®¡ç†
- **ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³UI**: éŽåŽ»ã®ç›¸è«‡å±¥æ­´ã‚’ä¸€è¦§è¡¨ç¤ºã—ã€ã‚¿ãƒƒãƒ—ã§è©³ç´°ã‚’å±•é–‹ã€‚
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦è‰²åˆ†ã‘ï¼ˆé’ï¼šè‰¯å¥½ã€èµ¤ï¼šå±é™ºï¼‰ã•ã‚Œã€ç›´æ„Ÿçš„ã«æŒ¯ã‚Šè¿”ã‚ŠãŒå¯èƒ½ã€‚

### âš¡ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ï¼ˆUXï¼‰å‘ä¸Š
- **ã‚²ã‚¹ãƒˆãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½**: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç™»éŒ²ãªã—ã§ã€ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å³åº§ã«ã‚¢ãƒ—ãƒªã®å…¨æ©Ÿèƒ½ã‚’è©¦ç”¨å¯èƒ½ã€‚
  ï¼ˆâ€»è©¦ç”¨ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã€ã‚²ã‚¹ãƒˆãƒ­ã‚°ã‚¤ãƒ³ã‚’ã™ã‚‹ãŸã³ã«ãƒ‡ãƒ¼ã‚¿ã¯åˆæœŸçŠ¶æ…‹ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ï¼‰
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã®æ“ä½œã«æœ€é©åŒ–ã—ã€ã‚¢ãƒ—ãƒªãƒ©ã‚¤ã‚¯ãªUIã‚’å®Ÿç¾ã€‚
- **PWAå¯¾å¿œ**: ãƒ›ãƒ¼ãƒ ç”»é¢ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ å¯èƒ½ï¼ˆiOS/Androidï¼‰ã€‚

## 5. ä½¿ç”¨æŠ€è¡“
- **Backend**: Ruby 3.2 / Ruby on Rails 7.0
- **Frontend**: HTML / CSS (Tailwind CSS) / JavaScript (Stimulus)
- **Database**: PostgreSQL
- **Infrastructure**: Render
- **API**: OpenAI API (gpt-3.5-turbo / gpt-4o-mini)
- **Tools**: Docker / Git / GitHub

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
### Users ãƒ†ãƒ¼ãƒ–ãƒ«
ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆå¤«ï¼‰ã®æƒ…å ±ã‚’ç®¡ç†ã€‚ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®æ€§æ ¼ã‚„å‘¼ã³åã‚‚ä¿å­˜ã€‚
| Column              | Type   | Options     | Note                               |
| ------------------- | ------ | ----------- | ---------------------------------- |
| nickname            | string | null: false | ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ                        |
| email               | string | null: false | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                     |
| password            | string | null: false | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰                         |
| partner_name        | string |             | ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®å‘¼ã³å                 |
| partner_personality | text   |             | ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®æ€§æ ¼ï¼ˆAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”¨ï¼‰ |

### Consultations ãƒ†ãƒ¼ãƒ–ãƒ«
AIã¸ã®ç›¸è«‡å†…å®¹ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ä¿å­˜ã€‚
| Column      | Type       | Options     | Note               |
| ----------- | ---------- | ----------- | ------------------ |
| content     | text       | null: false | ç›¸è«‡å†…å®¹           |
| ai_response | text       | null: false | AIã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ |
| risk_score  | integer    | null: false | ã”æ©Ÿå«Œåº¦ã‚¹ã‚³ã‚¢     |
| user        | references | null: false | å¤–éƒ¨ã‚­ãƒ¼           |

### Partner_Statuses ãƒ†ãƒ¼ãƒ–ãƒ«
å¦»ã®HPã‚„æ©Ÿå«Œã®çŠ¶æ…‹ã‚’è¨˜éŒ²ã€‚
| Column        | Type       | Options     | Note                 |
| ------------- | ---------- | ----------- | -------------------- |
| hp_percentage | integer    | null: false | HP(0-100)            |
| mood_id       | integer    | null: false | ã”æ§˜å­ID(ActiveHash) |
| user          | references | null: false | å¤–éƒ¨ã‚­ãƒ¼             |

### Schedules ãƒ†ãƒ¼ãƒ–ãƒ«
äºˆå®šã‚’ç®¡ç†ã€‚
| Column       | Type       | Options        | Note             |
| ------------ | ---------- | -------------- | ---------------- |
| title        | string     | null: false    | äºˆå®šã‚¿ã‚¤ãƒˆãƒ«     |
| start_time   | datetime   | null: false    | æ—¥æ™‚             |
| is_important | boolean    | default: false | å¤§äº‹ãªäºˆå®šãƒ•ãƒ©ã‚° |
| user         | references | null: false    | å¤–éƒ¨ã‚­ãƒ¼         |

## 7. ERå›³
```mermaid
erDiagram
    Users ||--o{ Consultations : "ç›¸è«‡ã™ã‚‹"
    Users ||--o{ PartnerStatuses : "è¨˜éŒ²ã™ã‚‹"
    Users ||--o{ Schedules : "ç™»éŒ²ã™ã‚‹"

    Users {
        bigint id PK
        string nickname "ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ "
        string email "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
        string partner_name "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®å‘¼ã³å"
        text partner_personality "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®æ€§æ ¼"
    }

    Consultations {
        bigint id PK
        text content "ç›¸è«‡å†…å®¹"
        text ai_response "AIã‚¢ãƒ‰ãƒã‚¤ã‚¹"
        integer risk_score "ã”æ©Ÿå«Œåº¦ã‚¹ã‚³ã‚¢"
        bigint user_id FK
    }

    PartnerStatuses {
        bigint id PK
        integer hp_percentage "å¦»ã®HP"
        integer mood_id "ã”æ§˜å­ID"
        bigint user_id FK
    }

    Schedules {
        bigint id PK
        string title "ã‚¿ã‚¤ãƒˆãƒ«"
        datetime start_time "æ—¥æ™‚"
        boolean is_important "å¤§äº‹ãªäºˆå®šãƒ•ãƒ©ã‚°"
        bigint user_id FK
    }
```

## 8. ç”»é¢é·ç§»å›³
```mermaid
graph TD
    User((ãƒ¦ãƒ¼ã‚¶ãƒ¼))
    Top[ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸/LP]
    Login[ãƒ­ã‚°ã‚¤ãƒ³/æ–°è¦ç™»éŒ²]
    Home[ãƒ›ãƒ¼ãƒ ç”»é¢/ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰]
    Modal[AIç›¸è«‡ãƒ¢ãƒ¼ãƒ€ãƒ«]
    Profile[ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†]
    ScheduleNew[äºˆå®šè¿½åŠ ç”»é¢]
    History[ç›¸è«‡å±¥æ­´ä¸€è¦§]

    User --> Top
    Top -->|æœªãƒ­ã‚°ã‚¤ãƒ³| Login
    Login -->|ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ| Home
    Top -->|ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆ| Home
    Top -->|ã‚²ã‚¹ãƒˆãƒ­ã‚°ã‚¤ãƒ³| Home

    subgraph MainFunctions [ä¸»è¦æ©Ÿèƒ½]
        Home -->|ã‚¯ãƒªãƒƒã‚¯| Modal
        Modal -->|ç›¸è«‡é€ä¿¡/éžåŒæœŸ| Home
        Home -->|è¿½åŠ ãƒœã‚¿ãƒ³| ScheduleNew
        ScheduleNew -->|ä¿å­˜| Home
        Home -->|äºˆå®šå‰Šé™¤| Home
        Home -->|å±¥æ­´ã‚¿ãƒ–| History
        History -->|å‰Šé™¤| History
    end

    subgraph Settings [è¨­å®š]
        Home -->|ãƒ˜ãƒƒãƒ€ãƒ¼åå‰| Profile
        Profile -->|ä¿å­˜| Home
        Home -->|ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ| Top
    end
```